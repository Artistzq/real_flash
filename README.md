# 电量测试

## 问题

- [x] 确定用哪个App
- [x] 确定用哪个视频（10分钟以内）
- [x] 确定测量功耗的方式
- [x] 定好参数有哪些（5~10个）
- [x] 定好初始配置数（20~30个）

## App和视频

* VLC
* Piper.mkv

## 参数

1. 硬件加速。禁用/解码加速/完全加速
2. 网络缓存值。标量，暂取0/30/70/100
3. 启用音频的时间伸缩。开/关
4. 跳帧。开/关
5. 去块滤镜设置。完全去块/不去块
6. 启用耳机侦测。开/关
7. 音频输出。AudioTrack/OpenSL ES

**循环播放打开，便于控制播放时长**

## 手机其他状态

* WLAN关闭
* 蓝牙关闭
* 亮度100%
* 音量24%

## 配置

7个配置项共384个配置，初始测量20个配置，随机抽样产生

初始配置见表：[**硬件加速**](https://docs.qq.com/sheet/DTUlheW1KcG5zblFU)

## 实验

1. 断电

   ```powershell
   adb shell dumpsys battery unplug
   ```

2. 设定参数（手动）

3. 开始测试（自动）

   1. 电量重置
   2. 开始播放
   3. 统计电量

4. 重复步骤2、3

